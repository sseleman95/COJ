//O(V(V + E))

#include <cstdio>
#include <cstring>

#define MAXV 1000
#define MAXE 5000

struct edge {
  int v, next;
} edges[ 2 * MAXE ];

int S, V, E;
int u, v;
int cardinality;

int p[MAXV], match_to[MAXV];
bool mark[MAXV];

bool augment( int u, int *match_to, bool *mark ) {
  if ( u < 0 ) return true;  
  for ( int i = p[u]; i != -1; i = edges[i].next ) {
    int v = edges[i].v;
	if ( mark[v] ) continue;
	mark[v] = true;
	if ( augment( match_to[v], match_to, mark ) ) {
	  match_to[u] = v;
	  match_to[v] = u;
	  return true;
	}
  }  
  return false;
}

int main() {  
  memset( p, -1, sizeof( p ) );
  memset( match_to, -1, sizeof( match_to ) );  
  scanf( "%d %d %d", &S, &V, &E );
  for ( int i = 0; i < E; i++ ) {    
	scanf( "%d %d", &u, &v );
	u--; v--;	
	edges[i] = ( edge ) { v, p[u] };
	p[u] = i;
	edges[ i + E ] = ( edge ) { u, p[v] };
	p[v] = i + E;
  }  
  /* Ford-Fulkerson method */  
  for ( int i = 0; i < S; i++ ) {
    memset( mark, 0, sizeof( mark ) );
	if ( augment( i, match_to, mark ) ) cardinality++;
  }  
  printf( "%d\n", cardinality );
  for ( int i = 0; i < S; i++ )
    if ( match_to[i] >= 0 )
	  printf( "(%d,%d)\n", i + 1, match_to[i] + 1 );  
  return 0;
}